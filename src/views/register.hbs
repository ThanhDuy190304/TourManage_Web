<!DOCTYPE html>
<html>

<head>
    <title>Creative Colorlib SignUp Form</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <!-- Custom Theme files -->
    <link href="/css/register_login.css" rel="stylesheet" type="text/css" media="all" />
    <link href="/css/button_backHome.css" rel="stylesheet" />
    <!-- //Custom Theme files -->
    <!-- web font -->
    <link href="//fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i" rel="stylesheet">
    <!-- //web font -->
</head>

<body>
    <div class="custom-button-wrapper">
        <div class="link_wrapper">
            <a href="/">Back Home</a>
        </div>
    </div>

    <!-- main -->
    <div class="main-w3layouts wrapper">
        <!-- Căn giữa logo -->
        <div class="logo">
            <img src="/img/logo.png" alt="Logo" width="150" height="auto" />
        </div>

        <div class="main-agileinfo">
            {{#if message}}
            <div style="color: rgb(0, 0, 0, 0.7); text-align: center; padding-top: 50px">
                {{message}}
            </div>
            {{/if}}
            <div class="agileits-top">
                <form id="registerForm" autocomplete="off" action="/register/postRegister" method="post">
                    <input class="text" type="text" name="user_name" placeholder="Username" required="">
                    <input class="text email" type="email" name="email" placeholder="Email" required="">
                    <input class="text" type="password" name="password" placeholder="Password" required="">
                    <input class="text w3lpass" type="password" name="confirmPassword" placeholder="Confirm Password"
                        required="">
                    <input type="submit" value="SIGN UP">
                </form>
                <p>Already have an account? <a href="/login">Login now!</a></p>
            </div>
        </div>

        <!-- copyright -->
        <div class="colorlibcopy-agile">
            <p>© 2018 Colorlib Signup Form. All rights reserved | Design by <a href="https://colorlib.com/"
                    target="_blank">Colorlib</a></p>
        </div>
        <!-- //copyright -->
        <ul class="colorlib-bubbles">
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
        </ul>
    </div>
    <!-- //main -->

</body>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById('registerForm');
        const passwordField = document.querySelector('input[name="password"]');
        const confirmPasswordField = document.querySelector('input[name="confirmPassword"]');

        // Kiểm tra mật khẩu và xác nhận mật khẩu khi gửi form
        form.addEventListener('submit', function (event) {
            if (passwordField.value !== confirmPasswordField.value) {
                confirmPasswordField.setCustomValidity('Confirmation password does not match');
                event.preventDefault(); // Ngừng gửi form
            } else {
                confirmPasswordField.setCustomValidity(''); // Xóa thông báo lỗi nếu khớp
            }
        });

        // Lắng nghe sự kiện thay đổi trên trường xác nhận mật khẩu
        confirmPasswordField.addEventListener('input', function () {
            // Kiểm tra lại khi người dùng thay đổi giá trị xác nhận mật khẩu
            if (passwordField.value === confirmPasswordField.value) {
                confirmPasswordField.setCustomValidity(''); // Xóa thông báo lỗi khi mật khẩu khớp
            } else {
                confirmPasswordField.setCustomValidity('Confirmation password does not match');
                event.preventDefault(); // Ngừng gửi form

            }
        });
    });
</script>


</html>